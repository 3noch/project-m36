Name: project-m36
Version: 0.1
License: PublicDomain
Build-Type: Simple
Homepage: https://github.com/agentm/project-m36
Category: Relational Algebra
Cabal-Version: >= 1.2

Library
    Build-Depends: base,mtl,containers,unordered-containers,parsec,hashable,haskeline,directory,uuid,cassava,text,bytestring,deepseq,deepseq-generics,vector,parallel,monad-parallel,transformers
    Exposed-Modules: ProjectM36.Error,
                     ProjectM36.Transaction,
                     ProjectM36.Transaction.Show,
                     ProjectM36.Base,
                     ProjectM36.Attribute,
                     ProjectM36.AttributeNames,
                     ProjectM36.Tuple,
                     ProjectM36.TupleSet,
                     ProjectM36.Atom,
                     ProjectM36.AtomFunction,
                     ProjectM36.Key,
                     ProjectM36.RelationalExpression,
                     ProjectM36.Relation.Show.HTML,
                     ProjectM36.StaticOptimizer,
                     ProjectM36.Relation.Show.Term,
                     ProjectM36.Relation.Show.CSV
    GHC-Options: -Wall -rtsopts

Executable tutd
    Build-Depends: base
    Other-Modules: ProjectM36.Error,
                   ProjectM36.Base,
                   ProjectM36.RelationalExpression,
                   ProjectM36.Transaction,
                   TutorialD.Interpreter,
                   TutorialD.Interpreter.Base,
                   TutorialD.Interpreter.DatabaseExpr,
                   TutorialD.Interpreter.RODatabaseContextOperator,
                   TutorialD.Interpreter.TransactionGraphOperator
    main-is: TutorialD/tutd.hs
    GHC-Options: -Wall

Executable bigrel
    Build-Depends: base,deepseq,optparse-applicative
    Other-Modules: ProjectM36.Base,
                   ProjectM36.Relation
                   ProjectM36.Tuple,
                   ProjectM36.Error,
                   ProjectM36.Relation.Show.CSV
    main-is: benchmark/bigrel.hs
    GHC-Options: -Wall -threaded -rtsopts
    GHC-Prof-Options: -fprof-auto -rtsopts -threaded -Wall

Test-Suite test-tutoriald
    type: exitcode-stdio-1.0
    main-is: test/TutorialD/Interpreter.hs
    Build-Depends: base,HUnit,Cabal
    GHC-Options: -Wall

Test-Suite test-relation
    type: exitcode-stdio-1.0
    main-is: test/Relation/Basic.hs
    Build-Depends: base,HUnit,Cabal
    GHC-Options: -Wall

Test-Suite test-static-optimizer
    type: exitcode-stdio-1.0
    main-is: test/Relation/StaticOptimizer.hs
    Build-Depends: base,HUnit,Cabal
    GHC-Options: -Wall

benchmark bench
    type: exitcode-stdio-1.0
    main-is: benchmark/Relation.hs
    build-depends: base,criterion
    GHC-Options: -Wall -rtsopts
